{"version":3,"file":"index.cjs.js","sources":["../src/schedulerUtils.js","../src/internal/msElapsed.js","../src/msElapsed.js","../src/internal/during.js","../src/during.js","../src/easing/easingUtils.js","../src/easing/linear.js","../src/easing/quadratic.js","../src/easing/cubic.js","../src/easing/sine.js","../src/easing/exponential.js","../src/easing/elastic.js","../src/easing/circle.js","../src/easing/back.js","../src/easing/index.js"],"sourcesContent":["import { Scheduler } from 'rxjs'\n\nconst SchedulerConstructor =\n  Scheduler.async.constructor.prototype.__proto__.constructor\nconst defaultScheduler =\n  Scheduler.animationFrame\n\nconst withDefaultScheduler =\n  (f) => (scheduler = defaultScheduler) => f(scheduler)\n\nconst buildSchedulerTypeError = (name) => {\n  const errorMessage =\n    `scheduler parameter for ${name} is not a instance of Scheduler`\n\n  return new TypeError(errorMessage)\n}\nconst withSchedulerChecker =\n  (f) => (scheduler) => {\n    if (!(scheduler instanceof SchedulerConstructor)) {\n      throw buildSchedulerTypeError(f.name)\n    }\n\n    return f(scheduler)\n  }\n\nconst withScheduler =\n  (f) => withDefaultScheduler(withSchedulerChecker(f))\n\nexport {\n  withDefaultScheduler,\n  withSchedulerChecker,\n  withScheduler,\n}\n","import { Observable } from 'rxjs/Observable'\nimport 'rxjs/add/observable/defer'\nimport 'rxjs/add/observable/interval'\nimport 'rxjs/add/operator/map'\n\nconst msElapsed =\n  (scheduler) =>\n    Observable.defer(() => {\n      const startTime = scheduler.now()\n\n      return Observable.interval(0, scheduler)\n        .map(() => scheduler.now() - startTime)\n    })\n\nexport {\n  msElapsed,\n}\n","import { withScheduler } from './schedulerUtils'\nimport { msElapsed as msElapsed_ } from './internal/msElapsed'\n\nconst msElapsed = withScheduler(msElapsed_)\n\nexport {\n  msElapsed,\n}\n","import { Observable } from 'rxjs/Observable'\nimport 'rxjs/add/operator/concat'\nimport 'rxjs/add/operator/map'\nimport 'rxjs/add/operator/takeWhile'\n\nimport { msElapsed } from './msElapsed'\n\nconst durationTypeErrorMessage =\n  'second argument (duration) of during should be a number'\n\nconst during =\n  (scheduler) => (duration) => {\n    if (typeof duration !== 'number') {\n      throw new TypeError(durationTypeErrorMessage)\n    }\n\n    return msElapsed(scheduler)\n      .map((ms) => ms / duration)\n      .takeWhile((percent) => percent < 1)\n      .concat([1])\n  }\n\nexport {\n  during,\n}\n","import { withScheduler } from './schedulerUtils'\nimport { during as during_ } from './internal/during'\n\nconst during = withScheduler(during_)\n\nexport {\n  during,\n}\n","const buildRangeError = (name) => {\n  const errorMessage =\n    `input of ${name} should be smaller than 1, and larger than 0`\n\n  return new RangeError(errorMessage)\n}\nconst withDomainChecker = (f) => (x) => {\n  if (x < 0 || x > 1) {\n    throw buildRangeError(f.name)\n  }\n\n  return f(x)\n}\n\nconst asEaseOut = (f) => (x) => 1 - f(1 - x)\nconst asEaseInOut = (f) => (x) => x < 0.5 ?\n  f(2 * x) / 2 :\n  1 - f(2 * (1 - x)) / 2\n\nexport {\n  asEaseOut,\n  asEaseInOut,\n  withDomainChecker,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst linear = (x) => x\n\nlinear.in = linear\nlinear.out = asEaseOut(linear)\nlinear.inout = asEaseInOut(linear)\n\nexport {\n  linear,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst quadratic = (x) => x*x\n\nquadratic.in = quadratic\nquadratic.out = asEaseOut(quadratic)\nquadratic.inout = asEaseInOut(quadratic)\n\nexport {\n  quadratic,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst cubic = (x) => x*x*x\n\ncubic.in = cubic\ncubic.out = asEaseOut(cubic)\ncubic.inout = asEaseInOut(cubic)\n\nexport {\n  cubic,\n}\n","const sine = (x) => 1 - Math.cos(x * Math.PI / 2)\n\nsine.in = sine\nsine.out = (x) => Math.sin(x * Math.PI / 2)\nsine.inout = (x) => (1 - Math.cos(x * Math.PI)) / 2\n\nexport {\n  sine,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst exponential = (x) => x === 0 ? 0 : Math.pow(2, 10 * (x - 1))\n\nexponential.in = exponential\nexponential.out = asEaseOut(exponential)\nexponential.inout = asEaseInOut(exponential)\n\nexport {\n  exponential,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst { PI, pow, sin } = Math\n\nconst elastic = (t) => t === 0 ?\n  0 :\n  pow(2, 10 * (t - 1)) * sin(t * (13 / 2) * PI)\n\nelastic.in = elastic\nelastic.out = asEaseOut(elastic)\nelastic.inout = asEaseInOut(elastic)\n\nexport {\n  elastic,\n}\n","import { asEaseInOut, asEaseOut } from './easingUtils'\n\nconst circle = (t) => 1 - Math.sqrt(1 - t*t)\n\ncircle.in = circle\ncircle.out = asEaseOut(circle)\ncircle.inout = asEaseInOut(circle)\n\nexport {\n  circle,\n}\n","import { asEaseInOut, asEaseOut } from './easingUtils'\n\nconst back = (t) => t * t * (Math.E * t - Math.E + 1)\n\nback.in = back\nback.out = asEaseOut(back)\nback.inout = asEaseInOut(back)\n\nexport {\n  back,\n}\n","import { linear as linear_ } from './linear'\nimport { quadratic as quadratic_ } from './quadratic'\nimport { cubic as cubic_ } from './cubic'\nimport { sine as sine_ } from './sine'\nimport { exponential as exponential_ } from './exponential'\nimport { elastic as elastic_ } from './elastic'\nimport { circle as circle_ } from './circle'\nimport { back as back_ } from './back'\nimport { withDomainChecker } from './easingUtils'\n\nconst linear = withDomainChecker(linear_)\nconst quadratic = withDomainChecker(quadratic_)\nconst cubic = withDomainChecker(cubic_)\nconst sine = withDomainChecker(sine_)\nconst exponential = withDomainChecker(exponential_)\nconst elastic = withDomainChecker(elastic_)\nconst circle = withDomainChecker(circle_)\nconst back = withDomainChecker(back_)\n\nexport {\n  linear,\n  quadratic,\n  cubic,\n  sine,\n  exponential,\n  elastic,\n  circle,\n  back,\n}\n"],"names":["SchedulerConstructor","Scheduler","async","constructor","prototype","__proto__","defaultScheduler","animationFrame","withDefaultScheduler","f","scheduler","buildSchedulerTypeError","name","errorMessage","TypeError","withSchedulerChecker","withScheduler","msElapsed","Observable","defer","startTime","now","interval","map","msElapsed_","durationTypeErrorMessage","during","duration","ms","takeWhile","percent","concat","during_","buildRangeError","RangeError","withDomainChecker","x","asEaseOut","asEaseInOut","linear","in","out","inout","quadratic","cubic","sine","Math","cos","PI","sin","exponential","pow","elastic","t","circle","sqrt","back","E","linear_","quadratic_","cubic_","sine_","exponential_","elastic_","circle_","back_"],"mappings":"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"}