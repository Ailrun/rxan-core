{"version":3,"file":"index.cjs.min.js","sources":["../src/schedulerUtils.js","../src/internal/msElapsed.js","../src/msElapsed.js","../src/internal/during.js","../src/during.js","../src/internal/periodOf.js","../src/periodOf.js","../src/internal/toggle.js","../src/toggle.js","../src/easing/easingUtils.js","../src/easing/linear.js","../src/easing/quadratic.js","../src/easing/cubic.js","../src/easing/sine.js","../src/easing/exponential.js","../src/easing/elastic.js","../src/easing/circle.js","../src/easing/back.js","../src/easing/index.js"],"sourcesContent":["import { Scheduler, animationFrameScheduler } from 'rxjs'\n\nconst defaultScheduler = animationFrameScheduler\n\nconst withDefaultScheduler =\n  (f) => (scheduler = defaultScheduler) => f(scheduler)\n\nconst buildSchedulerTypeError = (name) => {\n  const errorMessage =\n    `scheduler parameter for ${name} is not an instance of Scheduler`\n\n  return new TypeError(errorMessage)\n}\nconst withSchedulerChecker =\n  (f) => (scheduler) => {\n    if (!(scheduler instanceof Scheduler)) {\n      throw buildSchedulerTypeError(f.name)\n    }\n\n    return f(scheduler)\n  }\n\nconst withScheduler =\n  (f) => withDefaultScheduler(withSchedulerChecker(f))\n\nexport {\n  withDefaultScheduler,\n  withSchedulerChecker,\n  withScheduler,\n}\n","import { defer, interval } from 'rxjs'\nimport { map } from 'rxjs/operators'\n\nconst msElapsed =\n  (scheduler) =>\n    defer(() => {\n      const startTime = scheduler.now()\n\n      return interval(0, scheduler).pipe(\n        map(() => scheduler.now() - startTime),\n      )\n    })\n\nexport {\n  msElapsed,\n}\n","import { withScheduler } from './schedulerUtils'\nimport { msElapsed as msElapsed_ } from './internal/msElapsed'\n\nconst msElapsed = withScheduler(msElapsed_)\n\nexport {\n  msElapsed,\n}\n","import { concat } from 'rxjs'\nimport { map, takeWhile } from 'rxjs/operators'\n\nimport { msElapsed } from './msElapsed'\n\nconst durationTypeErrorMessage =\n  'second argument (duration) of during should be a number'\nconst durationRangeErrorMessage =\n  'second argument (duration) of during should be a positive number'\n\nconst during =\n  (scheduler) => (duration) => {\n    if (typeof duration !== 'number') {\n      throw new TypeError(durationTypeErrorMessage)\n    }\n\n    if (duration <= 0) {\n      throw new RangeError(durationRangeErrorMessage)\n    }\n\n    return msElapsed(scheduler).pipe(\n      map((ms) => ms / duration),\n      takeWhile((percent) => percent < 1),\n      (res$) => concat(res$, [1]),\n    )\n  }\n\nexport {\n  during,\n}\n","import { withScheduler } from './schedulerUtils'\nimport { during as during_ } from './internal/during'\n\nconst during = withScheduler(during_)\n\nexport {\n  during,\n}\n","import { interval } from 'rxjs'\nimport { map, take } from 'rxjs/operators'\n\nconst periodTypeErrorMessage =\n  'second argument (period) of periodOf should be a number'\nconst periodRangeErrorMessage =\n  'second argument (period) of periodOf should be a positive number'\n\nconst cyclesTypeErrorMessage =\n  'third argument (cycles) of periodOf should be undefined or a number'\nconst cyclesRangeErrorMessage =\n  'third argument (cycles) of periodOf should be a positive number'\n\nconst periodOf =\n  (scheduler) => (period, cycles) => {\n    if (typeof period !== 'number') {\n      throw new TypeError(periodTypeErrorMessage)\n    }\n\n    if (period <= 0) {\n      throw new RangeError(periodRangeErrorMessage)\n    }\n\n    if (cycles) {\n      if (typeof cycles !== 'number') {\n        throw new TypeError(cyclesTypeErrorMessage)\n      }\n\n      if (cycles <= 0) {\n        throw new RangeError(cyclesRangeErrorMessage)\n      }\n    }\n\n    cycles = cycles || Number.POSITIVE_INFINITY\n\n    return interval(period, scheduler).pipe(\n      map((cycle) => cycle + 1),\n      take(cycles),\n    )\n  }\n\nexport {\n  periodOf,\n}\n","import { withScheduler } from './schedulerUtils'\nimport { periodOf as periodOf_ } from './internal/periodOf'\n\nconst periodOf = withScheduler(periodOf_)\n\nexport {\n  periodOf,\n}\n","import { interval } from 'rxjs'\nimport { map, take } from 'rxjs/operators'\n\nconst periodTypeErrorMessage =\n  'second argument (period) of toggle should be a number'\nconst periodRangeErrorMessage =\n  'second argument (period) of toggle should be a positive number'\n\nconst cyclesTypeErrorMessage =\n  'third argument (cycles) of toggle should be undefined or a number'\nconst cyclesRangeErrorMessage =\n  'third argument (cycles) of toggle should be a positive number'\n\nconst toggle =\n  (scheduler) => (period, cycles) => {\n    if (typeof period !== 'number') {\n      throw new TypeError(periodTypeErrorMessage)\n    }\n\n    if (period <= 0) {\n      throw new RangeError(periodRangeErrorMessage)\n    }\n\n    if (cycles) {\n      if (typeof cycles !== 'number') {\n        throw new TypeError(cyclesTypeErrorMessage)\n      }\n\n      if (cycles <= 0) {\n        throw new RangeError(cyclesRangeErrorMessage)\n      }\n    }\n\n    cycles = cycles || Number.POSITIVE_INFINITY\n\n    return interval(period, scheduler).pipe(\n      map((cycle) => cycle % 2 === 0),\n      take(cycles),\n    )\n  }\n\nexport {\n  toggle,\n}\n","import { withScheduler } from './schedulerUtils'\nimport { toggle as toggle_ } from './internal/toggle'\n\nconst toggle = withScheduler(toggle_)\n\nexport {\n  toggle,\n}\n","const buildRangeError = (name) => {\n  const errorMessage =\n    `input of ${name} should be smaller than 1, and larger than 0`\n\n  return new RangeError(errorMessage)\n}\nconst buildTypeError = () => {\n  const errorMessage =\n    `input of withDomainChecker should have in, out, inout property.`\n\n  return new TypeError(errorMessage)\n}\n\nconst withDomainCheckerImpl = (f) => (x) => {\n  if (x < 0 || x > 1) {\n    throw buildRangeError(f.name)\n  }\n\n  return f(x)\n}\nconst withDomainChecker = (f) => {\n  if (!f.in || !f.out || !f.inout) {\n    throw buildTypeError()\n  }\n\n  const newF = withDomainCheckerImpl(f)\n  newF.in = withDomainCheckerImpl(f.in)\n  newF.out = withDomainCheckerImpl(f.out)\n  newF.inout = withDomainCheckerImpl(f.inout)\n\n  return newF\n}\n\nconst asEaseOut = (f) => (x) => 1 - f(1 - x)\nconst asEaseInOut = (f) => (x) => x < 0.5 ?\n  f(2 * x) / 2 :\n  1 - f(2 * (1 - x)) / 2\n\nexport {\n  asEaseOut,\n  asEaseInOut,\n  withDomainChecker,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst linear = (x) => x\n\nlinear.in = linear\nlinear.out = asEaseOut(linear)\nlinear.inout = asEaseInOut(linear)\n\nexport {\n  linear,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst quadratic = (x) => x*x\n\nquadratic.in = quadratic\nquadratic.out = asEaseOut(quadratic)\nquadratic.inout = asEaseInOut(quadratic)\n\nexport {\n  quadratic,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst cubic = (x) => x*x*x\n\ncubic.in = cubic\ncubic.out = asEaseOut(cubic)\ncubic.inout = asEaseInOut(cubic)\n\nexport {\n  cubic,\n}\n","const sine = (x) => 1 - Math.cos(x * Math.PI / 2)\n\nsine.in = sine\nsine.out = (x) => Math.sin(x * Math.PI / 2)\nsine.inout = (x) => (1 - Math.cos(x * Math.PI)) / 2\n\nexport {\n  sine,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst exponential = (x) => x === 0 ? 0 : Math.pow(2, 10 * (x - 1))\n\nexponential.in = exponential\nexponential.out = asEaseOut(exponential)\nexponential.inout = asEaseInOut(exponential)\n\nexport {\n  exponential,\n}\n","import { asEaseOut, asEaseInOut } from './easingUtils'\n\nconst { PI, pow, sin } = Math\n\nconst elastic = (t) => t === 0 ?\n  0 :\n  pow(2, 10 * (t - 1)) * sin(t * (13 / 2) * PI)\n\nelastic.in = elastic\nelastic.out = asEaseOut(elastic)\nelastic.inout = asEaseInOut(elastic)\n\nexport {\n  elastic,\n}\n","import { asEaseInOut, asEaseOut } from './easingUtils'\n\nconst circle = (t) => 1 - Math.sqrt(1 - t*t)\n\ncircle.in = circle\ncircle.out = asEaseOut(circle)\ncircle.inout = asEaseInOut(circle)\n\nexport {\n  circle,\n}\n","import { asEaseInOut, asEaseOut } from './easingUtils'\n\nconst back = (t) => t * t * (Math.E * t - Math.E + 1)\n\nback.in = back\nback.out = asEaseOut(back)\nback.inout = asEaseInOut(back)\n\nexport {\n  back,\n}\n","import { linear as linear_ } from './linear'\nimport { quadratic as quadratic_ } from './quadratic'\nimport { cubic as cubic_ } from './cubic'\nimport { sine as sine_ } from './sine'\nimport { exponential as exponential_ } from './exponential'\nimport { elastic as elastic_ } from './elastic'\nimport { circle as circle_ } from './circle'\nimport { back as back_ } from './back'\nimport { withDomainChecker } from './easingUtils'\n\nconst linear = withDomainChecker(linear_)\nconst quadratic = withDomainChecker(quadratic_)\nconst cubic = withDomainChecker(cubic_)\nconst sine = withDomainChecker(sine_)\nconst exponential = withDomainChecker(exponential_)\nconst elastic = withDomainChecker(elastic_)\nconst circle = withDomainChecker(circle_)\nconst back = withDomainChecker(back_)\n\nexport {\n  linear,\n  quadratic,\n  cubic,\n  sine,\n  exponential,\n  elastic,\n  circle,\n  back,\n}\n"],"names":["defaultScheduler","animationFrameScheduler","withDefaultScheduler","f","scheduler","buildSchedulerTypeError","name","errorMessage","TypeError","withSchedulerChecker","Scheduler","withScheduler","msElapsed","defer","startTime","now","interval","pipe","map","msElapsed_","durationTypeErrorMessage","durationRangeErrorMessage","during","duration","RangeError","ms","takeWhile","percent","res$","concat","during_","periodTypeErrorMessage","periodRangeErrorMessage","cyclesTypeErrorMessage","cyclesRangeErrorMessage","periodOf","period","cycles","Number","POSITIVE_INFINITY","cycle","take","periodOf_","toggle","toggle_","buildRangeError","buildTypeError","withDomainCheckerImpl","x","withDomainChecker","in","out","inout","newF","asEaseOut","asEaseInOut","linear","quadratic","cubic","sine","Math","cos","PI","sin","exponential","pow","elastic","t","circle","sqrt","back","E","linear_","quadratic_","cubic_","sine_","exponential_","elastic_","circle_","back_"],"mappings":"iIAEMA,iBAAmBC,6BAEnBC,qBACJ,SAACC,UAAM,eAACC,yDAAYJ,wBAAqBG,EAAEC,KAEvCC,wBAA0B,SAACC,OACzBC,6BACuBD,4CAEtB,IAAIE,UAAUD,IAEjBE,qBACJ,SAACN,UAAM,SAACC,QACAA,aAAqBM,sBACnBL,wBAAwBF,EAAEG,aAG3BH,EAAEC,KAGPO,cACJ,SAACR,UAAMD,qBAAqBO,qBAAqBN,KCpB7CS,YACJ,SAACR,UACCS,WAAM,eACEC,EAAYV,EAAUW,aAErBC,cAAS,EAAGZ,GAAWa,KAC5BC,cAAI,kBAAMd,EAAUW,MAAQD,QCN9BF,aAAYD,cAAcQ,aCE1BC,yBACJ,0DACIC,0BACJ,mEAEIC,SACJ,SAAClB,UAAc,SAACmB,MACU,iBAAbA,QACH,IAAIf,UAAUY,6BAGlBG,GAAY,QACR,IAAIC,WAAWH,kCAGhBT,YAAUR,GAAWa,KAC1BC,cAAI,SAACO,UAAOA,EAAKF,IACjBG,oBAAU,SAACC,UAAYA,EAAU,IACjC,SAACC,UAASC,YAAOD,GAAO,QCpBxBN,UAASX,cAAcmB,UCAvBC,uBACJ,0DACIC,wBACJ,mEAEIC,uBACJ,sEACIC,wBACJ,kEAEIC,WACJ,SAAC/B,UAAc,SAACgC,EAAQC,MACA,iBAAXD,QACH,IAAI5B,UAAUuB,2BAGlBK,GAAU,QACN,IAAIZ,WAAWQ,4BAGnBK,EAAQ,IACY,iBAAXA,QACH,IAAI7B,UAAUyB,2BAGlBI,GAAU,QACN,IAAIb,WAAWU,kCAIhBG,GAAUC,OAAOC,kBAEnBvB,cAASoB,EAAQhC,GAAWa,KACjCC,cAAI,SAACsB,UAAUA,EAAQ,IACvBC,eAAKJ,MClCLF,YAAWxB,cAAc+B,YCAzBX,yBACJ,wDACIC,0BACJ,iEAEIC,yBACJ,oEACIC,0BACJ,gEAEIS,SACJ,SAACvC,UAAc,SAACgC,EAAQC,MACA,iBAAXD,QACH,IAAI5B,UAAUuB,6BAGlBK,GAAU,QACN,IAAIZ,WAAWQ,8BAGnBK,EAAQ,IACY,iBAAXA,QACH,IAAI7B,UAAUyB,6BAGlBI,GAAU,QACN,IAAIb,WAAWU,oCAIhBG,GAAUC,OAAOC,kBAEnBvB,cAASoB,EAAQhC,GAAWa,KACjCC,cAAI,SAACsB,UAAUA,EAAQ,GAAM,IAC7BC,eAAKJ,MClCLM,UAAShC,cAAciC,UCHvBC,gBAAkB,SAACvC,OACjBC,cACQD,wDAEP,IAAIkB,WAAWjB,IAElBuC,eAAiB,kBAId,IAAItC,8EAGPuC,sBAAwB,SAAC5C,UAAM,SAAC6C,MAChCA,EAAI,GAAKA,EAAI,QACTH,gBAAgB1C,EAAEG,aAGnBH,EAAE6C,KAELC,kBAAoB,SAAC9C,OACpBA,EAAE+C,KAAO/C,EAAEgD,MAAQhD,EAAEiD,YAClBN,qBAGFO,EAAON,sBAAsB5C,YAC9B+C,GAAKH,sBAAsB5C,EAAE+C,MAC7BC,IAAMJ,sBAAsB5C,EAAEgD,OAC9BC,MAAQL,sBAAsB5C,EAAEiD,OAE9BC,GAGHC,UAAY,SAACnD,UAAM,SAAC6C,UAAM,EAAI7C,EAAE,EAAI6C,KACpCO,YAAc,SAACpD,UAAM,SAAC6C,UAAMA,EAAI,GACpC7C,EAAE,EAAI6C,GAAK,EACX,EAAI7C,EAAE,GAAK,EAAI6C,IAAM,IClCjBQ,SAAS,SAACR,UAAMA,GAEtBQ,SAAON,GAAKM,SACZA,SAAOL,IAAMG,UAAUE,UACvBA,SAAOJ,MAAQG,YAAYC,UCJ3B,IAAMC,YAAY,SAACT,UAAMA,EAAEA,GAE3BS,YAAUP,GAAKO,YACfA,YAAUN,IAAMG,UAAUG,aAC1BA,YAAUL,MAAQG,YAAYE,aCJ9B,IAAMC,QAAQ,SAACV,UAAMA,EAAEA,EAAEA,GAEzBU,QAAMR,GAAKQ,QACXA,QAAMP,IAAMG,UAAUI,SACtBA,QAAMN,MAAQG,YAAYG,SCN1B,IAAMC,OAAO,SAACX,UAAM,EAAIY,KAAKC,IAAIb,EAAIY,KAAKE,GAAK,IAE/CH,OAAKT,GAAKS,OACVA,OAAKR,IAAM,SAACH,UAAMY,KAAKG,IAAIf,EAAIY,KAAKE,GAAK,IACzCH,OAAKP,MAAQ,SAACJ,UAAO,EAAIY,KAAKC,IAAIb,EAAIY,KAAKE,KAAO,GCFlD,IAAME,cAAc,SAAChB,UAAY,IAANA,EAAU,EAAIY,KAAKK,IAAI,EAAG,IAAMjB,EAAI,KAE/DgB,cAAYd,GAAKc,cACjBA,cAAYb,IAAMG,UAAUU,eAC5BA,cAAYZ,MAAQG,YAAYS,mBCJxBF,GAAiBF,KAAjBE,GAAIG,IAAaL,KAAbK,IAAKF,IAAQH,KAARG,IAEXG,UAAU,SAACC,UAAY,IAANA,EACrB,EACAF,IAAI,EAAG,IAAME,EAAI,IAAMJ,QAAII,EAAeL,KAE5CI,UAAQhB,GAAKgB,UACbA,UAAQf,IAAMG,UAAUY,WACxBA,UAAQd,MAAQG,YAAYW,WCR5B,IAAME,SAAS,SAACD,UAAM,EAAIP,KAAKS,KAAK,EAAIF,EAAEA,IAE1CC,SAAOlB,GAAKkB,SACZA,SAAOjB,IAAMG,UAAUc,UACvBA,SAAOhB,MAAQG,YAAYa,UCJ3B,IAAME,OAAO,SAACH,UAAMA,EAAIA,GAAKP,KAAKW,EAAIJ,EAAIP,KAAKW,EAAI,IAEnDD,OAAKpB,GAAKoB,OACVA,OAAKnB,IAAMG,UAAUgB,QACrBA,OAAKlB,MAAQG,YAAYe,QCIzB,IAAMd,UAASP,kBAAkBuB,UAC3Bf,aAAYR,kBAAkBwB,aAC9Bf,SAAQT,kBAAkByB,SAC1Bf,QAAOV,kBAAkB0B,QACzBX,eAAcf,kBAAkB2B,eAChCV,WAAUjB,kBAAkB4B,WAC5BT,UAASnB,kBAAkB6B,UAC3BR,QAAOrB,kBAAkB8B"}